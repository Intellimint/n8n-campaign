# Start from the official n8n image
FROM n8nio/n8n:latest

# Set working directory
WORKDIR /home/node

# Ensure environment variables are respected
ENV N8N_BASIC_AUTH_ACTIVE=true \
    N8N_BASIC_AUTH_USER=neilfox \
    N8N_BASIC_AUTH_PASSWORD=your_secure_password \
    N8N_PORT=10000 \
    N8N_HOST=0.0.0.0 \
    WEBHOOK_TUNNEL_URL=https://n8n-banl.onrender.com \
    N8N_USER_MANAGEMENT_DISABLED=true \
    GENERIC_TIMEZONE=America/New_York

# Set the port for Render
EXPOSE 10000

# Default command
CMD ["n8n"]
